%% extract fixes to my simple format
clear all
close all

files = dir('eyeData/*.mat');
ctr = 0;
for t = 1:length(files)
    load(['eyeData/' files(t).name]);
    fixations = eval(files(t).name(1:(end-4)));
    clear(files(t).name(1:(end-4)));
    num_subjects = length(fixations(1).subdata);
    for s = 1:num_subjects
        for f = 1: size(fixations(1).subdata(1).fixXY,1)
            ctr = ctr+1;
            R(ctr,:) = [t s f ...
                fixations(1).sub_data{1}.fix_X(f)...
                fixations(1).sub_fixation{1}.fix_Y(f)...
                fixations(1).image_width fixations(1).image_height];
        end
    end
end
dlmwrite('sun09fixations.txt', R);